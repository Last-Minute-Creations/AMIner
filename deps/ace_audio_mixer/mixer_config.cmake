set(AUDIO_MIXER_HW_CHANNEL_MODE "MULTI" CACHE STRING "Whether to allow mixing on single or multiple hardware channels.")
set(AUDIO_MIXER_HW_CHANNEL_MODES "SINGLE" "MULTI" "MULTI_PAIRED")
set_property(CACHE AUDIO_MIXER_HW_CHANNEL_MODE PROPERTY STRINGS ${AUDIO_MIXER_HW_CHANNEL_MODES})
set(AUDIO_MIXER_WORD_SIZED OFF CACHE BOOL "Optimization: Use sounds no longer than 65k samples.")
set(AUDIO_MIXER_NTSC OFF CACHE BOOL "Enable NTSC mode.")
set(AUDIO_MIXER_68020 OFF CACHE BOOL "Optimization: Use code specific for 68020+ processors.")
set(AUDIO_MIXER_ROUND_TO_32 OFF CACHE BOOL "Optimization: Assume audio effects have length rounded to multiple of 32 bytes.")
set(AUDIO_MIXER_ROUND_TO_BUFFER OFF CACHE BOOL "Optimization: Assume audio effects have length rounded to multiple of mixer buffer size.")
set(AUDIO_MIXER_PROFILER OFF CACHE BOOL "Enable coloring during mixer runtime")
set(AUDIO_MIXER_HW_CHANNELS "0;1;2;3" CACHE STRING "Hardware channels that have mixing enabled.")
set(AUDIO_MIXER_SW_CHANNEL_COUNT "2" CACHE STRING "Number of software channels per audio channel (1-4).")
set(AUDIO_MIXER_PERIOD "322" CACHE STRING "Playback period (124-).")

message(STATUS "[MIX] AUDIO_MIXER_HW_CHANNEL_MODE: '${AUDIO_MIXER_HW_CHANNEL_MODE}'")
message(STATUS "[MIX] AUDIO_MIXER_WORD_SIZED: '${AUDIO_MIXER_WORD_SIZED}'")
message(STATUS "[MIX] AUDIO_MIXER_NTSC: '${AUDIO_MIXER_NTSC}'")
message(STATUS "[MIX] AUDIO_MIXER_68020: '${AUDIO_MIXER_68020}'")
message(STATUS "[MIX] AUDIO_MIXER_ROUND_TO_32: '${AUDIO_MIXER_ROUND_TO_32}'")
message(STATUS "[MIX] AUDIO_MIXER_ROUND_TO_BUFFER: '${AUDIO_MIXER_ROUND_TO_BUFFER}'")
message(STATUS "[MIX] AUDIO_MIXER_PROFILER: '${AUDIO_MIXER_PROFILER}'")
message(STATUS "[MIX] AUDIO_MIXER_HW_CHANNELS: '${AUDIO_MIXER_HW_CHANNELS}'")
message(STATUS "[MIX] AUDIO_MIXER_SW_CHANNEL_COUNT: '${AUDIO_MIXER_SW_CHANNEL_COUNT}'")
message(STATUS "[MIX] AUDIO_MIXER_PERIOD: '${AUDIO_MIXER_PERIOD}'")

# Convert CMake vars to config file vars
set(CFG_MIXER_SINGLE 0)
set(CFG_MIXER_MULTI 0)
set(CFG_MIXER_MULTI_PAIRED 0)
if(AUDIO_MIXER_HW_CHANNEL_MODE STREQUAL "SINGLE")
	set(CFG_MIXER_SINGLE 1)
elseif(AUDIO_MIXER_HW_CHANNEL_MODE STREQUAL "MULTI")
	set(CFG_MIXER_MULTI 1)
elseif(AUDIO_MIXER_HW_CHANNEL_MODE STREQUAL "MULTI_PAIRED")
	set(CFG_MIXER_MULTI_PAIRED 1)
endif()

set(CFG_MIXER_WORDSIZED 0)
if(AUDIO_MIXER_WORD_SIZED)
	set(CFG_MIXER_WORDSIZED 1)
endif()

set(CFG_MIXER_NTSC 0)
if(AUDIO_MIXER_NTSC)
	set(CFG_MIXER_NTSC 1)
endif()

set(CFG_MIXER_68020 0)
if(AUDIO_MIXER_68020)
	set(CFG_MIXER_68020 1)
endif()

set(CFG_MIXER_SIZEX32 0)
if(AUDIO_MIXER_ROUND_TO_32)
	set(CFG_MIXER_SIZEX32 1)
endif()

set(CFG_MIXER_SIZEXBUF 0)
if(AUDIO_MIXER_ROUND_TO_BUFFER)
	set(CFG_MIXER_SIZEXBUF 1)
endif()

set(CFG_MIXER_TIMING_BARS 0)
if(AUDIO_MIXER_PROFILER)
	set(CFG_MIXER_TIMING_BARS 1)
endif()

set(CFG_mixer_output_channels "0")
if(0 IN_LIST AUDIO_MIXER_HW_CHANNELS)
	set(CFG_mixer_output_channels "DMAF_AUD0|${CFG_mixer_output_channels}")
endif()
if(1 IN_LIST AUDIO_MIXER_HW_CHANNELS)
	set(CFG_mixer_output_channels "DMAF_AUD1|${CFG_mixer_output_channels}")
endif()
if(2 IN_LIST AUDIO_MIXER_HW_CHANNELS)
	set(CFG_mixer_output_channels "DMAF_AUD2|${CFG_mixer_output_channels}")
endif()
if(3 IN_LIST AUDIO_MIXER_HW_CHANNELS)
	set(CFG_mixer_output_channels "DMAF_AUD3|${CFG_mixer_output_channels}")
endif()

set(CFG_mixer_sw_channels ${AUDIO_MIXER_SW_CHANNEL_COUNT})

set(CFG_mixer_period ${AUDIO_MIXER_PERIOD})

configure_file(src/mixer_config.i.in mixer_config.i @ONLY)
